<div>
  <h1>Proof of Concept: OAuth2 / OIDC mit Keycloak</h1>
  <p *ngIf="!loggedIn">Du bist nicht eingeloggt.</p>
  <p *ngIf="loggedIn">Du bist eingeloggt!</p>

  <!-- Anzeige der Claims und Mandanten-Information -->
  <div *ngIf="loggedIn" class="user-info">
    <h3>Benutzerinformationen:</h3>
    <p><strong>Windows-Account:</strong> {{ winAccountName$ | async }}</p>
    <p><strong>UPN:</strong> {{ upn$ | async }}</p>
    <p><strong>Mandanten-ID:</strong> {{ (mandant$ | async) || 'Nicht verf√ºgbar' }}</p>
  </div>

  <button (click)="login()" *ngIf="!loggedIn">
    Login mit Keycloak
  </button>
  <button (click)="logout()" *ngIf="loggedIn">
    Logout
  </button>

  <div style="margin-top: 20px;">
    <h3>API Tests:</h3>
    <button (click)="testPublicEndpoint()" style="margin-right: 10px;">Test Public Endpoint</button>
    <button (click)="testSecuredEndpoint()" style="margin-right: 10px;">Test Secured Endpoint</button>
    <button (click)="testAdminEndpoint()">Test Admin Endpoint</button>
  </div>
</div>